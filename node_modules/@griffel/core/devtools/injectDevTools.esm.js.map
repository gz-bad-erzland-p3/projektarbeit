{"version":3,"file":"injectDevTools.esm.js","sources":["../../../../packages/core/src/devtools/injectDevTools.ts"],"sourcesContent":["import { SEQUENCE_PREFIX } from '../constants';\nimport { getDebugTree } from './getDebugTree';\n\nexport function injectDevTools(document: Document) {\n  const window = document.defaultView;\n  if (!window || window.__GRIFFEL_DEVTOOLS__) {\n    return;\n  }\n\n  const devtools: typeof window['__GRIFFEL_DEVTOOLS__'] = {\n    getInfo: (element: HTMLElement) => {\n      const rootDebugSequenceHash = Array.from(element.classList).find(className =>\n        className.startsWith(SEQUENCE_PREFIX),\n      );\n      if (rootDebugSequenceHash === undefined) {\n        return undefined;\n      }\n\n      return getDebugTree(rootDebugSequenceHash);\n    },\n  };\n\n  Object.defineProperty(window, '__GRIFFEL_DEVTOOLS__', {\n    configurable: false,\n    enumerable: false,\n    get() {\n      return devtools;\n    },\n  });\n}\n"],"names":["injectDevTools","document","window","defaultView","__GRIFFEL_DEVTOOLS__","devtools","getInfo","element","rootDebugSequenceHash","Array","from","classList","find","className","startsWith","SEQUENCE_PREFIX","undefined","getDebugTree","Object","defineProperty","configurable","enumerable","get"],"mappings":";;;SAGgBA,eAAeC;EAC7B,MAAMC,MAAM,GAAGD,QAAQ,CAACE,WAAxB;;EACA,IAAI,CAACD,MAAD,IAAWA,MAAM,CAACE,oBAAtB,EAA4C;IAC1C;;;EAGF,MAAMC,QAAQ,GAA0C;IACtDC,OAAO,EAAGC,OAAD;MACP,MAAMC,qBAAqB,GAAGC,KAAK,CAACC,IAAN,CAAWH,OAAO,CAACI,SAAnB,EAA8BC,IAA9B,CAAmCC,SAAS,IACxEA,SAAS,CAACC,UAAV,CAAqBC,eAArB,CAD4B,CAA9B;;MAGA,IAAIP,qBAAqB,KAAKQ,SAA9B,EAAyC;QACvC,OAAOA,SAAP;;;MAGF,OAAOC,YAAY,CAACT,qBAAD,CAAnB;;GATJ;EAaAU,MAAM,CAACC,cAAP,CAAsBjB,MAAtB,EAA8B,sBAA9B,EAAsD;IACpDkB,YAAY,EAAE,KADsC;IAEpDC,UAAU,EAAE,KAFwC;;IAGpDC,GAAG;MACD,OAAOjB,QAAP;;;GAJJ;AAOD;;;;"}