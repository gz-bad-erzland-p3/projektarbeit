{"version":3,"file":"getSourceURLfromError.esm.js","sources":["../../../../packages/core/src/devtools/getSourceURLfromError.ts"],"sourcesContent":["import { parseStackTraceLine } from './react-render-tracker/stackTrace';\n\nexport function getSourceURLfromError() {\n  const stacks = String(new Error().stack).split('\\n');\n  const userMakeStyleCallLine = findUserMakeStyleCallInStacks(stacks);\n  if (userMakeStyleCallLine === undefined) {\n    return undefined;\n  }\n\n  const result = parseStackTraceLine(userMakeStyleCallLine);\n  return result?.loc as string | undefined;\n}\n\nfunction findUserMakeStyleCallInStacks(stacks: string[]) {\n  for (let i = stacks.length - 1; i >= 0; --i) {\n    if (stacks[i].includes('at getSourceURLfromError')) {\n      // The error stacks look like:\n      //   getSourceURLfromError\n      //   makeStyles/__styles in griffel core\n      //   makeStyles/__styles in griffel react\n      //   user makeStyles call\n      return stacks[i + 3];\n    }\n  }\n  return undefined;\n}\n"],"names":["getSourceURLfromError","stacks","String","Error","stack","split","userMakeStyleCallLine","findUserMakeStyleCallInStacks","undefined","result","parseStackTraceLine","loc","i","length","includes"],"mappings":";;SAEgBA;EACd,MAAMC,MAAM,GAAGC,MAAM,CAAC,IAAIC,KAAJ,GAAYC,KAAb,CAAN,CAA0BC,KAA1B,CAAgC,IAAhC,CAAf;EACA,MAAMC,qBAAqB,GAAGC,6BAA6B,CAACN,MAAD,CAA3D;;EACA,IAAIK,qBAAqB,KAAKE,SAA9B,EAAyC;IACvC,OAAOA,SAAP;;;EAGF,MAAMC,MAAM,GAAGC,mBAAmB,CAACJ,qBAAD,CAAlC;EACA,OAAOG,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEE,GAAf;AACD;;AAED,SAASJ,6BAAT,CAAuCN,MAAvC;EACE,KAAK,IAAIW,CAAC,GAAGX,MAAM,CAACY,MAAP,GAAgB,CAA7B,EAAgCD,CAAC,IAAI,CAArC,EAAwC,EAAEA,CAA1C,EAA6C;IAC3C,IAAIX,MAAM,CAACW,CAAD,CAAN,CAAUE,QAAV,CAAmB,0BAAnB,CAAJ,EAAoD;;;;;;MAMlD,OAAOb,MAAM,CAACW,CAAC,GAAG,CAAL,CAAb;;;;EAGJ,OAAOJ,SAAP;AACD;;;;"}