{"version":3,"file":"transition.esm.js","sources":["../../../../packages/core/src/shorthands/transition.ts"],"sourcesContent":["import type { GriffelStylesStrictCSSObject } from '../types';\nimport {\n  TransitionDelayInput,\n  TransitionDurationInput,\n  TransitionPropertyInput,\n  TransitionTimingFunctionInput,\n  TransitionGlobalInput,\n} from './types';\n\ntype TransitionInputs = [\n  TransitionPropertyInput,\n  TransitionDurationInput?,\n  TransitionDelayInput?,\n  TransitionTimingFunctionInput?,\n];\n\ntype TransitionStyle = Pick<\n  GriffelStylesStrictCSSObject,\n  'transitionProperty' | 'transitionDelay' | 'transitionDuration' | 'transitionTimingFunction'\n>;\n\nexport function transition(globalValue: TransitionGlobalInput): TransitionStyle;\nexport function transition(property: TransitionPropertyInput, duration: TransitionDurationInput): TransitionStyle;\nexport function transition(\n  property: TransitionPropertyInput,\n  duration: TransitionDurationInput,\n  delay: TransitionDelayInput,\n): TransitionStyle;\nexport function transition(\n  property: TransitionPropertyInput,\n  duration: TransitionDurationInput,\n  delay: TransitionDelayInput,\n  easingFunction: TransitionTimingFunctionInput,\n): TransitionStyle;\nexport function transition(values: TransitionInputs[]): TransitionStyle;\n\n/**\n * A function that implements expansion for \"transition\", it's simplified - check usage examples.\n *\n * @example\n *  transition('inherit')\n *  transition('margin-right', '4s')\n *  transition('margin-right', '4s', '1s')\n *  transition('margin-right', '4s', '1s', 'ease-in')\n *  transition([\n *    ['margin-right', '4s', '1s', 'ease-in'],\n *    ['margin-right', '4s', '1s', 'ease-in'],\n * ])\n *\n * See https://developer.mozilla.org/en-US/docs/Web/CSS/transition\n */\nexport function transition(\n  ...values: [TransitionGlobalInput] | TransitionInputs | [TransitionInputs[]]\n): TransitionStyle {\n  if (isTransitionGlobalInputs(values)) {\n    return {\n      transitionDelay: values[0],\n      transitionDuration: values[0],\n      transitionProperty: values[0],\n      transitionTimingFunction: values[0],\n    };\n  }\n  const transitionInputs = normalizeTransitionInputs(values);\n  return transitionInputs.reduce<TransitionStyle>(\n    (acc, [property, duration = '0s', delay = '0s', timingFunction = 'ease'], index) => {\n      if (index === 0) {\n        acc.transitionProperty = property;\n        acc.transitionDuration = duration;\n        acc.transitionDelay = delay;\n        acc.transitionTimingFunction = timingFunction;\n      } else {\n        acc.transitionProperty += `, ${property}`;\n        acc.transitionDuration += `, ${duration}`;\n        acc.transitionDelay += `, ${delay}`;\n        acc.transitionTimingFunction += `, ${timingFunction}`;\n      }\n      return acc;\n    },\n    {},\n  );\n}\n\nconst transitionGlobalInputs: TransitionGlobalInput[] = ['-moz-initial', 'inherit', 'initial', 'revert', 'unset'];\nfunction isTransitionGlobalInputs(\n  values: [TransitionGlobalInput] | TransitionInputs | [TransitionInputs[]],\n): values is [TransitionGlobalInput] {\n  return values.length === 1 && transitionGlobalInputs.includes(values[0] as TransitionGlobalInput);\n}\n\nfunction normalizeTransitionInputs(transitionInputs: TransitionInputs | [TransitionInputs[]]): TransitionInputs[] {\n  if (transitionInputs.length === 1 && Array.isArray(transitionInputs[0])) {\n    return transitionInputs[0];\n  }\n  return [transitionInputs as TransitionInputs];\n}\n"],"names":["transition","values","isTransitionGlobalInputs","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction","transitionInputs","normalizeTransitionInputs","reduce","acc","property","duration","delay","timingFunction","index","transitionGlobalInputs","length","includes","Array","isArray"],"mappings":"AAoCA;;;;;;;;;;;;;;;SAegBA,WACd,GAAGC;EAEH,IAAIC,wBAAwB,CAACD,MAAD,CAA5B,EAAsC;IACpC,OAAO;MACLE,eAAe,EAAEF,MAAM,CAAC,CAAD,CADlB;MAELG,kBAAkB,EAAEH,MAAM,CAAC,CAAD,CAFrB;MAGLI,kBAAkB,EAAEJ,MAAM,CAAC,CAAD,CAHrB;MAILK,wBAAwB,EAAEL,MAAM,CAAC,CAAD;KAJlC;;;EAOF,MAAMM,gBAAgB,GAAGC,yBAAyB,CAACP,MAAD,CAAlD;EACA,OAAOM,gBAAgB,CAACE,MAAjB,CACL,CAACC,GAAD,EAAM,CAACC,QAAD,EAAWC,QAAQ,GAAG,IAAtB,EAA4BC,KAAK,GAAG,IAApC,EAA0CC,cAAc,GAAG,MAA3D,CAAN,EAA0EC,KAA1E;IACE,IAAIA,KAAK,KAAK,CAAd,EAAiB;MACfL,GAAG,CAACL,kBAAJ,GAAyBM,QAAzB;MACAD,GAAG,CAACN,kBAAJ,GAAyBQ,QAAzB;MACAF,GAAG,CAACP,eAAJ,GAAsBU,KAAtB;MACAH,GAAG,CAACJ,wBAAJ,GAA+BQ,cAA/B;KAJF,MAKO;MACLJ,GAAG,CAACL,kBAAJ,SAA+BM,UAA/B;MACAD,GAAG,CAACN,kBAAJ,SAA+BQ,UAA/B;MACAF,GAAG,CAACP,eAAJ,SAA4BU,OAA5B;MACAH,GAAG,CAACJ,wBAAJ,SAAqCQ,gBAArC;;;IAEF,OAAOJ,GAAP;GAbG,EAeL,EAfK,CAAP;AAiBD;AAED,MAAMM,sBAAsB,GAA4B,CAAC,cAAD,EAAiB,SAAjB,EAA4B,SAA5B,EAAuC,QAAvC,EAAiD,OAAjD,CAAxD;;AACA,SAASd,wBAAT,CACED,MADF;EAGE,OAAOA,MAAM,CAACgB,MAAP,KAAkB,CAAlB,IAAuBD,sBAAsB,CAACE,QAAvB,CAAgCjB,MAAM,CAAC,CAAD,CAAtC,CAA9B;AACD;;AAED,SAASO,yBAAT,CAAmCD,gBAAnC;EACE,IAAIA,gBAAgB,CAACU,MAAjB,KAA4B,CAA5B,IAAiCE,KAAK,CAACC,OAAN,CAAcb,gBAAgB,CAAC,CAAD,CAA9B,CAArC,EAAyE;IACvE,OAAOA,gBAAgB,CAAC,CAAD,CAAvB;;;EAEF,OAAO,CAACA,gBAAD,CAAP;AACD;;;;"}